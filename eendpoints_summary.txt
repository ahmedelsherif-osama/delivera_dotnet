3. Controller Endpoints (MVP)

Auth / Users:

POST /signup → create user, assign global role + org role

POST /login → returns JWT token

POST /logout → clear session

POST /approveUser/{userId} → superadmin approves user

POST /approveOrgUser/{userId} → orgowner approves user

POST /assignPermissions/{userId} → assign role permissions once approved

POST /order → create order
PUT /order/{id}/location → add rider location update

POST /organization → create org (orgowner or superadmin)

PUT /approveOrganization/{orgId} → superadmin approves org
GET /organizations → list all orgs (optional filters)
PATCH /order/{id}/status → update order status
GET /orders/{id} → get order details with locations
GET /orders/ → get all orders - not for riders
GET /orders/superadmin/ → get all orders - for superadmin only




Organization:








GET /orders/own/ → get own order history - for riders


POST /notification → create notification

GET /notifications/{userId} → list user notifications